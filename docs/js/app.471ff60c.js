(function(t){function e(e){for(var a,i,r=e[0],u=e[1],l=e[2],d=0,h=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],a=!0,r=1;r<o.length;r++){var u=o[r];0!==n[u]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-books/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=u;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0327":function(t,e,o){"use strict";o("cc81")},"0a58":function(t,e,o){},"10d3":function(t,e,o){"use strict";o("9326")},2054:function(t,e,o){},2131:function(t,e,o){"use strict";o("70b1")},"28b0":function(t,e,o){},3981:function(t,e,o){"use strict";o("28b0")},"3e68":function(t,e,o){var a=o("038a");a.register({logo:{width:16,height:16,viewBox:"0 0 143 128",data:'<path pid="0" d="M56.615 0L0 24.615v88.616L56.615 128V0zm-7.439 12.554L4.609 30.372v75.171l44.567 10.395V12.554zM90.938 4.646l-21.23 5.446 12.83 4.809.053 98.757-13.376 5.234 21.723 4.462V4.646zM117.959 10l-19.316 4.955 11.673 4.375.049 89.849-12.17 4.762L117.959 118V10zM142.227 14l-17.885 4.588 10.809 4.051.044 83.193-11.268 4.41 18.3 3.758V14z"/>'}})},"42cb":function(t,e,o){"use strict";o("a8e3")},5651:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");for(var a,n,s=o("2b0e"),i=o("038a"),r=o.n(i),u=o("8e76"),l=o("8c4f"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"books"}},[o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))])],1),o("template",{slot:"content"},[o("action-bar",{attrs:{hasBorder:0===t.sortedBooks.length}},[o("div",{staticClass:"action-bar-content"},[o("h2",[t._v(t._s(t.title))])]),o("div",{staticClass:"action-bar-actions"},[o("round-link-button",{attrs:{to:"/add-book"}},[o("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t.sortedBooks.length>0?o("ui-list",t._l(t.sortedBooks,(function(e){return o("book-item",{key:e.id,attrs:{book:e,onRemove:t.onRemove}})})),1):t._e(),0===t.sortedBooks.length?o("content-message",[o("p",[t._v("You don't have any books yet.")]),o("link-button",{attrs:{to:"/add-book"}},[t._v("Add One")])],1):t._e()],1)],2)},d=[],h=o("5530"),m=(o("b0c0"),o("159b"),o("7db0"),o("d81d"),o("a434"),o("4de4"),o("d3b7"),o("25f0"),o("c64e")),f=o.n(m),b={books:{allIds:[],byId:{}},authors:{allIds:["author-1","author-2","author-3","author-4"],byId:{"author-1":{id:"author-1",firstName:"Number 1",lastName:"Author"},"author-2":{id:"author-2",firstName:"Number 2",lastName:"Author"},"author-3":{id:"author-3",firstName:"Number 3",lastName:"Author"},"author-4":{id:"author-4",firstName:"Number 4",lastName:"Author"}}},authorBook:[],series:{allIds:["series-3","series-1","series-4","series-2"],byId:{"series-1":{id:"series-1",title:"Series Number 1"},"series-2":{id:"series-2",title:"Series Number 2"},"series-3":{id:"series-3",title:"Series Number 3"},"series-4":{id:"series-4",title:"Series Number 4"}}}},p=function(t){var e={id:"book-"+(t+1),title:"Book Number "+(t+1),seriesId:b.series.allIds[Math.floor(Math.random()*(b.series.allIds.length-1))],bookNumber:Math.round(5*Math.random()).toString()};b.books.allIds.push(e.id),b.books.byId[e.id]=e;for(var o=Math.round(4*Math.random()),a=[],n=0;n<o;n++)a.push(b.authors.allIds[n]);a.forEach((function(t,o){b.authorBook.push({id:"author-"+o+"-"+e.id,bookId:e.id,authorId:t})}))},v=0;v<40;v++)p(v);var k={init:function(t,e){a=t,n=localStorage.getItem(a),n=null===n?{books:{allIds:[],byId:{}},authors:{allIds:[],byId:{}},authorBook:[],series:{allIds:[],byId:{}},seriesBook:[]}:JSON.parse(n),g(n);var o={data:n,status:1};e&&e(o)},getAllData:function(t){var e={data:n,status:1};t&&t(e)},addBook:function(t,e){var o={id:t.id?t.id:f()(),title:t.title,seriesId:t.seriesId,bookNumber:t.bookNumber},a=n.books.allIds.indexOf(o.id);a>-1?n.books.allIds[a]=o.id:n.books.allIds.push(o.id),n.books.byId[o.id]=o,this.linkAuthors(o.id,t.authors),g(n);var s={data:n,status:1};e&&e(s)},removeBook:function(t,e){n.books.allIds.splice(n.books.allIds.indexOf(t),1),delete n.books.byId[t],n.authorBook=n.authorBook.filter((function(e){return e.bookId!==t})),g(n);var o={data:n,status:1};e&&e(o)},unlinkAuthors:function(t){n.authorBook=n.authorBook.filter((function(e){return e.bookId!==t}))},linkAuthors:function(t,e){this.unlinkAuthors(t),e.forEach((function(e){n.authorBook.push({id:f()(),bookId:t,authorId:e})}))},addAuthor:function(t,e){var o=_(t),a=n.authors.allIds.indexOf(o.id);a>-1?n.authors.allIds[a]=o.id:n.authors.allIds.push(o.id),n.authors.byId[o.id]=o,g(n);var s={data:n,status:1};e&&e(s)},removeAuthor:function(t,e){n.authors.allIds.splice(n.authors.allIds.indexOf(t),1),delete n.authors.byId[t],n.authorBook=n.authorBook.filter((function(e){return e.authorId!==t})),g(n);var o={data:n,status:1};e&&e(o)},addSeries:function(t,e){var o=y(t),a=n.series.allIds.indexOf(o.id);a>-1?n.series.allIds[a]=o.id:n.series.allIds.push(o.id),n.series.byId[o.id]=o,g(n);var s={data:n,status:1};e&&e(s)},removeSeries:function(t,e){n.series.allIds.splice(n.series.allIds.indexOf(t),1),delete n.series.byId[t],g(n);var o={data:n,status:1};e&&e(o)}},g=function(t){localStorage.setItem(a,JSON.stringify(t))},_=function(t){var e={id:t.id?t.id:f()()};return t.firstName&&(e.firstName=t.firstName),t.lastName&&(e.lastName=t.lastName),e},y=function(t){var e={id:t.id?t.id:f()()};return t.title&&(e.title=t.title),e},B=k,I={debug:!0,state:{config:void 0,data:{books:{allIds:[],byId:{}},authors:{allIds:[],byId:{}},authorBook:[],series:{allIds:[],byId:{}}}},init:function(t){var e=this;this.debug&&console.info("init triggered"),this.state.config=window.app.config;var o=window[this.state.config.app.apiName];B=void 0!==o?new o:B,B.init(this.state.config.dbName,(function(o){e.state.data=o.data,t&&t()}))},getAllData:function(){var t=this;B.getAllData((function(e){t.state.data=e.data}))},addBook:function(t){var e=this;this.debug&&console.info("addBook triggered with",t),B.addBook(t,(function(t){e.state.data=t.data}))},removeBook:function(t){var e=this;this.debug&&console.info("removeBook triggered with",t),B.removeBook(t,(function(t){e.state.data=t.data}))},addAuthor:function(t){var e=this;this.debug&&console.info("addAuthor triggered with",t),B.addAuthor(t,(function(t){e.state.data=t.data}))},removeAuthor:function(t){var e=this;this.debug&&console.info("removeAuthor triggered with",t),B.removeAuthor(t,(function(t){e.state.data=t.data}))},addSeries:function(t){var e=this;this.debug&&console.info("addSeries triggered with",t),B.addSeries(t,(function(t){e.state.data=t.data}))},removeSeries:function(t){var e=this;this.debug&&console.info("removeSeries triggered with",t),B.removeSeries(t,(function(t){e.state.data=t.data}))},getBookAuthors:function(t){var e=this,o=[];return t&&this.state.data.authorBook.allIds.map((function(a){var n=e.state.data.authorBook.byId[a];if(n.bookId===t){var s=e.state.data.authors.byId[n.authorId];o.push(s)}})),o},getBookSeries:function(t){if(t){var e=this.state.data.books.byId[t];return this.state.data.series.byId[e.seriesId]}}},C=I,S=(o("a15b"),{computed:{appName:function(){return this.config.app.name}}}),x={methods:{getAuthor:function(t){return this.data.authors.byId[t]},getAuthorName:function(t){var e=this.getAuthor(t),o=[];return e.firstName&&o.push(e.firstName),e.lastName&&o.push(e.lastName),o.join(" ")}}},A={methods:{getSeries:function(t){return this.data.series.byId[t]},getSeriesTitle:function(t){var e=this.getSeries(t);return e.title}}},N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page",attrs:{id:t.id}},[o("header-bar",[o("template",{slot:"content-left"},[t._t("header-left")],2),o("nav",{attrs:{slot:"content-right"},slot:"content-right"},[o("router-link",{attrs:{to:"/"}},[t._v("Books")]),o("router-link",{attrs:{to:"/authors"}},[t._v("Authors")]),o("router-link",{attrs:{to:"/series"}},[t._v("Series")])],1)],2),o("main",{staticClass:"main"},[o("div",{staticClass:"content",style:{maxWidth:t.maxWidth}},[t._t("content")],2)])],1)},O=[],j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{staticClass:"header-bar"},[o("div",{staticClass:"content-left"},[o("span",{staticClass:"logo"},[o("svgicon",{attrs:{name:"logo",width:"24",height:"24"}})],1),t._t("content-left")],2),o("div",{staticClass:"content-right"},[t._t("content-right")],2)])},w=[],$=(o("3e68"),{name:"HeaderBar"}),E=$,L=(o("df41"),o("2877")),D=Object(L["a"])(E,j,w,!1,null,"9cb13ab2",null),P=D.exports,R={name:"Page",props:{id:{type:String},maxWidth:{default:function(){return"1080px"},type:String}},components:{HeaderBar:P}},M=R,U=(o("0327"),Object(L["a"])(M,N,O,!1,null,"1d1e2d31",null)),T=U.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{"action-bar":!0,"has-border":t.hasBorder}},[t._t("default")],2)},F=[],z={name:"ActionBar",props:{hasBorder:{default:function(){return!0},type:Boolean}}},V=z,H=(o("96cb"),Object(L["a"])(V,q,F,!1,null,"3574a4ca",null)),W=H.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content-message"},[t._t("default")],2)},Y=[],G={name:"ContentMessage"},K=G,Q=(o("83d6"),Object(L["a"])(K,J,Y,!1,null,"e8bc2c68",null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{attrs:{to:t.to}},[o("ui-button",{attrs:{isButton:!1,isPrimary:t.isPrimary}},[t._t("default")],2)],1)},tt=[],et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isButton?o("button",{class:{"ui-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:t.click}},[t._t("default")],2):o("div",{class:{"ui-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:t.click}},[t._t("default")],2)},ot=[],at=(o("a9e3"),{name:"UiButton",props:{isButton:{type:Boolean,default:!0},isPrimary:{type:Boolean,default:!1},onClick:{type:Function,default:null},height:{type:Number,default:28}},computed:{style:function(){return{height:"".concat(this.height,"px")}}},methods:{click:function(t){this.onClick&&this.onClick(t)}}}),nt=at,st=(o("a5f2"),Object(L["a"])(nt,et,ot,!1,null,"07e49006",null)),it=st.exports,rt={name:"LinkButton",components:{UiButton:it},props:["to","isPrimary"]},ut=rt,lt=Object(L["a"])(ut,Z,tt,!1,null,null,null),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("router-link",{attrs:{to:t.to}},[o("round-button",{attrs:{isButton:!1,isPrimary:t.isPrimary}},[t._t("default")],2)],1)},ht=[],mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isButton?o("button",{class:{"round-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:function(e){t.onClick&&t.onClick()}}},[t._t("default")],2):o("div",{class:{"round-button":!0,"is-primary":t.isPrimary},style:t.style,on:{click:function(e){t.onClick&&t.onClick()}}},[t._t("default")],2)},ft=[],bt={name:"RoundButton",props:{isButton:{type:Boolean,default:!0},isPrimary:{type:Boolean,default:!1},onClick:{type:Function,default:null},height:{type:Number,default:28}},computed:{style:function(){return{height:"".concat(this.height,"px")}}}},pt=bt,vt=(o("10d3"),Object(L["a"])(pt,mt,ft,!1,null,"3fe51122",null)),kt=vt.exports,gt={name:"RoundLinkButton",components:{RoundButton:kt},props:["to","isPrimary"]},_t=gt,yt=Object(L["a"])(_t,dt,ht,!1,null,null,null),Bt=yt.exports,It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-list"},[t._t("default")],2)},Ct=[],St={name:"UiList",mounted:function(){var t=document.querySelectorAll(".list-item");t.forEach((function(t,e){t.style.transitionDelay="".concat(30*e,"ms")}));var e=document.querySelector(".ui-list");e.classList.add("show")}},xt=St,At=(o("c61b"),Object(L["a"])(xt,It,Ct,!1,null,"40b00bba",null)),Nt=At.exports,Ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("list-item",[o("template",{slot:"cell1"},[t._v(t._s(t.book.title))]),t.authors?o("template",{slot:"cell2"},t._l(t.authors,(function(e){return o("router-link",{key:e.key,attrs:{to:e.url,title:e.label}},[o("span",{staticClass:"title-text"},[t._v(t._s(e.label))])])})),1):t._e(),o("template",{slot:"cell3"},[t.series?o("router-link",{attrs:{to:t.series.url}},[o("span",{staticClass:"title-text"},[t._v(t._s(t.series.title))])]):t._e(),t.book.bookNumber?o("span",[t._v(t._s("- Book "+t.book.bookNumber))]):t._e()],1),o("template",{slot:"actions"},[o("round-link-button",{attrs:{to:t.book.editUrl}},[o("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),o("round-button",{attrs:{onClick:t.onRemoveClick}},[o("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},jt=[],wt=(o("99af"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-item"},[o("div",{staticClass:"cell"},[t._t("cell1")],2),o("div",{staticClass:"cell"},[t._t("cell2")],2),o("div",{staticClass:"cell"},[t._t("cell3")],2),o("div",{staticClass:"actions"},[t._t("actions")],2)])}),$t=[],Et={name:"ListItem"},Lt=Et,Dt=(o("c097"),o("3981"),Object(L["a"])(Lt,wt,$t,!1,null,"05178aa8",null)),Pt=Dt.exports,Rt=(o("9def"),o("b14b"),{name:"BookItem",props:{book:{type:Object,default:function(){return{}}},onRemove:{type:Function}},methods:{onRemoveClick:function(){this.onRemove(this.book.id)}},components:{ListItem:Pt,RoundButton:kt,RoundLinkButton:Bt},computed:{authors:function(){var t=this;return this.book.authors.map((function(e){return Object(h["a"])(Object(h["a"])({},e),{},{key:"".concat(t.book.id,"-").concat(e.id),label:"".concat(e.lastName,", ").concat(e.firstName),url:"/books/author/".concat(e.id)})}))},series:function(){var t=null;return this.book.series&&(t=Object(h["a"])(Object(h["a"])({},this.book.series),{},{url:"/books/series/".concat(this.book.series.id)})),t}}}),Mt=Rt,Ut=Object(L["a"])(Mt,Ot,jt,!1,null,null,null),Tt=Ut.exports,qt=(o("9148"),{name:"Books",data:function(){return C.state},components:{Page:T,ActionBar:W,ContentMessage:X,LinkButton:ct,RoundLinkButton:Bt,UiList:Nt,BookItem:Tt},mixins:[S,x,A],computed:{authorId:function(){return"AuthorBooks"===this.$route.name?this.$route.params.name:void 0},seriesId:function(){return"SeriesBooks"===this.$route.name?this.$route.params.title:void 0},title:function(){if(this.authorId){var t=this.getAuthorName(this.authorId);return"Books by ".concat(t)}if(this.seriesId){var e=this.getSeriesTitle(this.seriesId);return"Books in ".concat(e)}return"Books"},sortedBooks:function(){var t=this,e=[];return this.data.books.allIds.forEach((function(o){var a=t.data.books.byId[o],n=Object(h["a"])(Object(h["a"])({},a),{},{authors:t.getBookAuthors(o),series:t.getBookSeries(a.seriesId),url:"/book/".concat(o),editUrl:"/edit-book/".concat(o)});if(t.authorId){var s=n.authors.find((function(e){return e.id===t.authorId}));s&&e.push(n)}else t.seriesId?n.series&&n.series.id===t.seriesId&&e.push(n):e.push(n)})),e}},methods:{onRemove:function(t){C.removeBook(t)},getBookAuthors:function(t){var e=this,o=[];return this.data.authorBook.forEach((function(a){a.bookId===t&&o.push(e.data.authors.byId[a.authorId])})),o},getBookSeries:function(t){return this.data.series.byId[t]}}}),Ft=qt,zt=Object(L["a"])(Ft,c,d,!1,null,null,null),Vt=zt.exports,Ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"authors"}},[o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),o("h2",[t._v("/ Authors")])],1),o("template",{slot:"content"},[o("action-bar",{attrs:{hasBorder:0===t.sortedAuthors.length}},[o("div",{staticClass:"action-bar-content"},[o("h2",[t._v("Authors")])]),o("div",{staticClass:"action-bar-actions"},[o("round-link-button",{attrs:{to:"/add-author"}},[o("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t.sortedAuthors.length>0?o("ui-list",t._l(t.sortedAuthors,(function(e){return o("author-item",{key:e.id,attrs:{author:e,onRemove:t.onRemove}})})),1):t._e(),0===t.sortedAuthors.length?o("content-message",[o("p",[t._v("You don't have any authors yet.")]),o("link-button",{attrs:{to:"/add-author"}},[t._v("Add One")])],1):t._e()],1)],2)},Wt=[],Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("list-item",[o("template",{slot:"cell1"},[o("router-link",{attrs:{to:t.url}},[o("span",{staticClass:"title-text"},[t._v(t._s(t.name))])])],1),o("template",{slot:"actions"},[o("round-link-button",{attrs:{to:t.author.editUrl}},[o("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),o("round-button",{attrs:{onClick:t.onRemoveClick}},[o("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},Yt=[],Gt={name:"AuthorItem",props:{author:{type:Object,default:function(){return{}}},onRemove:{type:Function}},computed:{name:function(){var t=[];return this.author.lastName&&t.push(this.author.lastName),this.author.firstName&&t.push(this.author.firstName),t.join(", ")},url:function(){return"/books/author/".concat(this.author.id)}},methods:{onRemoveClick:function(){this.onRemove(this.author.id)}},components:{ListItem:Pt,RoundButton:kt,RoundLinkButton:Bt}},Kt=Gt,Qt=Object(L["a"])(Kt,Jt,Yt,!1,null,null,null),Xt=Qt.exports,Zt={name:"Authors",data:function(){return C.state},components:{Page:T,ActionBar:W,ContentMessage:X,UiList:Nt,LinkButton:ct,RoundLinkButton:Bt,AuthorItem:Xt},mixins:[S],computed:{sortedAuthors:function(){var t=this,e=[];return this.data.authors.allIds.forEach((function(o){var a=t.data.authors.byId[o],n=Object(h["a"])(Object(h["a"])({},a),{},{url:"/author/".concat(o),editUrl:"/edit-author/".concat(o)});e.push(n)})),e}},methods:{onRemove:function(t){C.removeAuthor(t)}}},te=Zt,ee=Object(L["a"])(te,Ht,Wt,!1,null,null,null),oe=ee.exports,ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"series"}},[o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),o("h2",[t._v("/ Series")])],1),o("template",{slot:"content"},[o("action-bar",{attrs:{hasBorder:0===t.sortedSeries.length}},[o("div",{staticClass:"action-bar-content"},[o("h2",[t._v("Series")])]),o("div",{staticClass:"action-bar-actions"},[o("round-link-button",{attrs:{to:"/add-series"}},[o("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1)]),t.sortedSeries.length>0?o("ui-list",t._l(t.sortedSeries,(function(e){return o("series-item",{key:e.id,attrs:{series:e,onRemove:t.onRemove}})})),1):t._e(),0===t.sortedSeries.length?o("content-message",[o("p",[t._v("You don't have any series yet.")]),o("link-button",{attrs:{to:"/add-series"}},[t._v("Add One")])],1):t._e()],1)],2)},ne=[],se=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("list-item",[o("template",{slot:"cell1"},[o("router-link",{attrs:{to:t.url}},[o("span",{staticClass:"title-text"},[t._v(t._s(t.series.title))])])],1),o("template",{slot:"actions"},[o("round-link-button",{attrs:{to:t.series.editUrl}},[o("svgicon",{attrs:{name:"edit",width:"18",height:"18"}})],1),o("round-button",{attrs:{onClick:t.onRemoveClick}},[o("svgicon",{attrs:{name:"delete",width:"18",height:"18"}})],1)],1)],2)},ie=[],re={name:"SeriesItem",props:{series:{type:Object,default:function(){return{}}},onRemove:{type:Function}},components:{ListItem:Pt,RoundButton:kt,RoundLinkButton:Bt},computed:{url:function(){return"/books/series/".concat(this.series.id)}},methods:{onRemoveClick:function(){this.onRemove(this.series.id)}}},ue=re,le=Object(L["a"])(ue,se,ie,!1,null,null,null),ce=le.exports,de={name:"Series",data:function(){return C.state},components:{Page:T,ActionBar:W,ContentMessage:X,UiList:Nt,LinkButton:ct,RoundLinkButton:Bt,SeriesItem:ce},mixins:[S],computed:{sortedSeries:function(){var t=this,e=[];return this.data.series.allIds.forEach((function(o){var a=t.data.series.byId[o],n=Object(h["a"])(Object(h["a"])({},a),{},{url:"/series/".concat(o),editUrl:"/edit-series/".concat(o)});e.push(n)})),e}},methods:{onRemove:function(t){C.removeSeries(t)}}},he=de,me=Object(L["a"])(he,ae,ne,!1,null,null,null),fe=me.exports,be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"edit-book",maxWidth:"800px"}},[t._v(" "+t._s(t.authorsData)+" "),o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),o("h2",[t._v("/ Add Book")])],1),o("template",{slot:"content"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("div",{staticClass:"anim-section"},[o("text-field",{attrs:{label:"Title",name:"title",value:t.bookData.title}})],1),o("div",{staticClass:"anim-section authors"},[o("multi-select",{attrs:{data:t.authorsData,placeholder:"Select Authors...",onChange:t.onAuthorsChange,multiple:!0}}),o("round-link-button",{staticClass:"add-btn",attrs:{to:"/add-author"}},[o("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1),o("div",{staticClass:"anim-section series"},[o("multi-select",{attrs:{data:t.seriesData,placeholder:"Select Series...",onChange:t.onSeriesChange}}),o("round-link-button",{staticClass:"add-btn",attrs:{to:"/add-series"}},[o("svgicon",{attrs:{name:"add",width:"20",height:"20"}})],1)],1),o("div",{staticClass:"anim-section"},[o("text-field",{attrs:{label:"Book Number",name:"bookNumber",value:t.bookData.bookNumber}})],1),o("div",{staticClass:"form-buttons anim-section"},[o("ui-button",{attrs:{height:32,isButton:!1,onClick:t.onCancel}},[t._v("Cancel")]),o("ui-button",{attrs:{isPrimary:!0,isSubmit:!0,height:32}},[t._v("Save Book")])],1)])])],2)},pe=[],ve=o("2909"),ke=(o("caad"),o("ddb0"),o("ec3e")),ge=o.n(ke),_e=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-field"},[o("label",{staticClass:"label",attrs:{for:t.name}},[t._v(t._s(t.label))]),o("input",{staticClass:"input",attrs:{id:t.name,type:"text",name:t.name},domProps:{value:t.value}})])},ye=[],Be={name:"TextField",props:["label","name","value"]},Ie=Be,Ce=(o("2131"),Object(L["a"])(Ie,_e,ye,!1,null,"165638b8",null)),Se=Ce.exports,xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"multi-select-container"},[o("multiselect",{attrs:{value:t.value,options:t.options,customLabel:t.label,hideSelected:!0,placeholder:t.placeholder,"track-by":"id",multiple:t.multiple},on:{input:t.updateSelected}})],1)},Ae=[],Ne=o("8e5f"),Oe=o.n(Ne),je={name:"MultiSelect",components:{Multiselect:Oe.a},data:function(){return{value:this.data.values,options:this.data.options}},props:{data:{type:Object,required:!0},onChange:{type:Function,required:!0},multiple:{type:Boolean,default:!1},placeholder:String},methods:{label:function(t){return t.label},updateSelected:function(t){this.onChange(t)}}},we=je,$e=(o("60bc"),o("b455"),o("f54a"),Object(L["a"])(we,xe,Ae,!1,null,"525375a4",null)),Ee=$e.exports,Le={name:"EditBook",components:{Page:T,TextField:Se,UiButton:it,MultiSelect:Ee,RoundLinkButton:Bt},mixins:[S],data:function(){return{config:C.state.config,authorsData:this.getAuthorsData(),seriesData:this.getSeriesData()}},mounted:function(){var t=document.querySelectorAll(".anim-section");t.forEach((function(t,e){t.style.transitionDelay="".concat(30*e,"ms")}));var e=document.querySelector("#edit-book");e.classList.add("show")},computed:{id:function(){return this.$route.params.id},bookData:function(){return this.getBookData()}},methods:{getAuthorsData:function(){var t=[],e=[],o=[],a=this.getBookData();return void 0!==a&&C.state.data.authorBook.forEach((function(t){a.id===t.bookId&&e.push(t.authorId)})),C.state.data.authors.allIds.forEach((function(a){var n=C.state.data.authors.byId[a],s=Object(h["a"])(Object(h["a"])({},n),{},{label:"".concat(n.lastName,", ").concat(n.firstName)});t.push(s),e.includes(a)&&o.push(s)})),{values:o,options:t}},getBookData:function(){return this.$route.params.id?C.state.data.books.byId[this.$route.params.id]:{}},getSeriesData:function(){var t=[],e=[],o=this.getBookData();return C.state.data.series.allIds.forEach((function(a){var n=C.state.data.series.byId[a],s=Object(h["a"])(Object(h["a"])({},n),{},{label:n.title});t.push(s),a===o.seriesId&&(e=[s])})),{values:e,options:t}},onAuthorsChange:function(t){var e;(e=this.authorsData.values).splice.apply(e,[0,this.authorsData.values.length].concat(Object(ve["a"])(t)))},onSeriesChange:function(t){this.$set(this.seriesData.values,0,t)},onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=ge()(t.target,{hash:!0});e.id=this.$route.params.id,e.authors=this.authorsData.values.map((function(t){return t.id})),e.seriesId=this.seriesData.values.length>0?this.seriesData.values[0].id:void 0,C.addBook(e),this.$router.go(-1)}}},De=Le,Pe=(o("42cb"),Object(L["a"])(De,be,pe,!1,null,"5a1db188",null)),Re=Pe.exports,Me=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"edit-author",maxWidth:"800px"}},[o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),o("h2",[t._v("/ "+t._s(t.title))])],1),o("template",{slot:"content"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("div",{staticClass:"anim-section"},[o("text-field",{attrs:{label:"First Name",name:"firstName",value:t.authorData.firstName}})],1),o("div",{staticClass:"anim-section"},[o("text-field",{attrs:{label:"Last Name",name:"lastName",value:t.authorData.lastName}})],1),o("div",{staticClass:"form-buttons anim-section"},[o("ui-button",{attrs:{isButton:!1,height:32,onClick:t.onCancel}},[t._v("Cancel")]),o("ui-button",{attrs:{isPrimary:!0,isSubmit:!0,height:32}},[t._v(t._s(t.submitLabel))])],1)])])],2)},Ue=[],Te={name:"EditAuthor",components:{Page:T,TextField:Se,UiButton:it},mixins:[S],data:function(){return C.state},mounted:function(){var t=document.querySelectorAll(".anim-section");t.forEach((function(t,e){t.style.transitionDelay="".concat(30*e,"ms")}));var e=document.querySelector("#edit-author");e.classList.add("show")},computed:{title:function(){return this.$route.params.id?"Edit Author":"Add Author"},submitLabel:function(){return this.$route.params.id?"Save Changes":"Create Author"},authorData:function(){return this.$route.params.id?this.data.authors.byId[this.$route.params.id]:{}}},methods:{onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=ge()(t.target,{hash:!0});e.id=this.$route.params.id,C.addAuthor(e),this.$router.go(-1)}}},qe=Te,Fe=Object(L["a"])(qe,Me,Ue,!1,null,null,null),ze=Fe.exports,Ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Page",{attrs:{id:"edit-series",maxWidth:"800px"}},[o("template",{slot:"header-left"},[o("router-link",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),o("h2",[t._v("/ "+t._s(t.title))])],1),o("template",{slot:"content"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[o("div",{staticClass:"anim-section"},[o("text-field",{attrs:{label:"Title",name:"title",value:t.seriesData.title}})],1),o("div",{staticClass:"form-buttons anim-section"},[o("ui-button",{attrs:{isButton:!1,height:32,onClick:t.onCancel}},[t._v("Cancel")]),o("ui-button",{attrs:{isPrimary:!0,isSubmit:!0,height:32}},[t._v(t._s(t.submitLabel))])],1)])])],2)},He=[],We={name:"EditSeries",components:{Page:T,TextField:Se,UiButton:it},mixins:[S],data:function(){return C.state},mounted:function(){var t=document.querySelectorAll(".anim-section");t.forEach((function(t,e){t.style.transitionDelay="".concat(30*e,"ms")}));var e=document.querySelector("#edit-series");e.classList.add("show")},computed:{title:function(){return this.$route.params.id?"Edit Series":"Add Series"},submitLabel:function(){return this.$route.params.id?"Save Changes":"Create Series"},seriesData:function(){return this.$route.params.id?this.data.series.byId[this.$route.params.id]:{}}},methods:{onCancel:function(t){t.preventDefault(),this.$router.go(-1)},onSubmit:function(t){var e=ge()(t.target,{hash:!0});e.id=this.$route.params.id,C.addSeries(e),this.$router.go(-1)}}},Je=We,Ye=Object(L["a"])(Je,Ve,He,!1,null,null,null),Ge=Ye.exports;s["a"].use(l["a"]);var Ke=new l["a"]({mode:"hash",routes:[{path:"/",name:"Books",component:Vt},{path:"/books/author/:name",name:"AuthorBooks",component:Vt},{path:"/books/series/:title",name:"SeriesBooks",component:Vt},{path:"/add-book",name:"AddBook",component:Re},{path:"/edit-book/:id",name:"EditBook",component:Re},{path:"/authors",name:"Authors",component:oe},{path:"/add-author",name:"AddAuthor",component:ze},{path:"/edit-author/:id",name:"EditAuthor",component:ze},{path:"/series",name:"Series",component:fe},{path:"/add-series",name:"AddSeries",component:Ge},{path:"/edit-series/:id",name:"EditSeries",component:Ge}]}),Qe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.isConfigLoading?o("Loading"):o("router-view")],1)},Xe=[],Ze=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading"},[o("svgicon",{attrs:{name:"logo",width:"24",height:"24"}})],1)},to=[],eo={name:"Loading"},oo=eo,ao=(o("9e70"),Object(L["a"])(oo,Ze,to,!1,null,"16d746c2",null)),no=ao.exports,so={name:"App",components:{Loading:no},data:function(){return C.state},created:function(){C.init(this.setTitle)},computed:{isConfigLoading:function(){return void 0===this.config}},methods:{setTitle:function(){var t=document.querySelector("title");t.innerHTML=this.config.app.name}}},io=so,ro=(o("5c0b"),Object(L["a"])(io,Qe,Xe,!1,null,null,null)),uo=ro.exports;s["a"].use(r.a),s["a"].use(u["a"],{basePath:"./static/svg"}),s["a"].config.productionTip=!1,new s["a"]({router:Ke,render:function(t){return t(uo)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"70b1":function(t,e,o){},7252:function(t,e,o){},"83d6":function(t,e,o){"use strict";o("ae18")},8430:function(t,e,o){},9148:function(t,e,o){var a=o("038a");a.register({add:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>'}})},9326:function(t,e,o){},"96cb":function(t,e,o){"use strict";o("5651")},"9c0c":function(t,e,o){},"9d54":function(t,e,o){},"9def":function(t,e,o){var a=o("038a");a.register({edit:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>'}})},"9e70":function(t,e,o){"use strict";o("b4af")},a5f2:function(t,e,o){"use strict";o("2054")},a8e3:function(t,e,o){},ae18:function(t,e,o){},b14b:function(t,e,o){var a=o("038a");a.register({delete:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>'}})},b455:function(t,e,o){"use strict";o("9d54")},b4af:function(t,e,o){},c097:function(t,e,o){"use strict";o("0a58")},c61b:function(t,e,o){"use strict";o("7252")},cc81:function(t,e,o){},df41:function(t,e,o){"use strict";o("fe73")},f54a:function(t,e,o){"use strict";o("8430")},fe73:function(t,e,o){}});
//# sourceMappingURL=app.471ff60c.js.map